# Benchmarking Acorn-128 encrypt/ decrypt kernel on Tesla V100-SXM2-16GB

Run following command to generate binary which can offload Acorn-128 encrypt/ decrypt kernel to CUDA backend.

```bash
make cuda
```

## Acorn-128 Authenticated Encryption

```bash
running on Tesla V100-SXM2-16GB

Benchmarking Acorn-128 encrypt

+----------------+------------------------+-----------------------------+------------------+---------------+------------------+
|invocation count|plain text len ( bytes )|associated data len ( bytes )|host-to-device b/w|     kernel b/w|device-to-host b/w|
+----------------+------------------------+-----------------------------+------------------+---------------+------------------+
|65536           |                      64|                           32|    8.743020 GB/ s|30.436256 GB/ s|    5.138683 GB/ s|
+----------------+------------------------+-----------------------------+------------------+---------------+------------------+
|65536           |                     128|                           32|    8.576507 GB/ s|23.316831 GB/ s|    5.704664 GB/ s|
+----------------+------------------------+-----------------------------+------------------+---------------+------------------+
|65536           |                     256|                           32|    7.384249 GB/ s|21.218600 GB/ s|    7.096271 GB/ s|
+----------------+------------------------+-----------------------------+------------------+---------------+------------------+
|65536           |                     512|                           32|    7.221481 GB/ s|12.480787 GB/ s|   10.075568 GB/ s|
+----------------+------------------------+-----------------------------+------------------+---------------+------------------+
|65536           |                    1024|                           32|    7.374272 GB/ s| 4.503621 GB/ s|   10.584596 GB/ s|
+----------------+------------------------+-----------------------------+------------------+---------------+------------------+
|65536           |                    2048|                           32|    7.566963 GB/ s| 4.147789 GB/ s|   10.728766 GB/ s|
+----------------+------------------------+-----------------------------+------------------+---------------+------------------+
|65536           |                    4096|                           32|    7.681173 GB/ s| 3.640237 GB/ s|   10.866118 GB/ s|
+----------------+------------------------+-----------------------------+------------------+---------------+------------------+
|131072          |                      64|                           32|    8.184142 GB/ s|37.914696 GB/ s|    5.829204 GB/ s|
+----------------+------------------------+-----------------------------+------------------+---------------+------------------+
|131072          |                     128|                           32|    7.326007 GB/ s|26.455035 GB/ s|    7.421151 GB/ s|
+----------------+------------------------+-----------------------------+------------------+---------------+------------------+
|131072          |                     256|                           32|    7.188427 GB/ s|14.402880 GB/ s|    9.828010 GB/ s|
+----------------+------------------------+-----------------------------+------------------+---------------+------------------+
|131072          |                     512|                           32|    7.271626 GB/ s| 7.958801 GB/ s|   10.546502 GB/ s|
+----------------+------------------------+-----------------------------+------------------+---------------+------------------+
|131072          |                    1024|                           32|    7.519421 GB/ s| 3.355577 GB/ s|   10.726959 GB/ s|
+----------------+------------------------+-----------------------------+------------------+---------------+------------------+
|131072          |                    2048|                           32|    7.677990 GB/ s| 3.019218 GB/ s|   10.865445 GB/ s|
+----------------+------------------------+-----------------------------+------------------+---------------+------------------+
|131072          |                    4096|                           32|    7.754019 GB/ s| 2.889801 GB/ s|   10.923620 GB/ s|
+----------------+------------------------+-----------------------------+------------------+---------------+------------------+
|262144          |                      64|                           32|    7.200721 GB/ s|40.955605 GB/ s|    8.090613 GB/ s|
+----------------+------------------------+-----------------------------+------------------+---------------+------------------+
|262144          |                     128|                           32|    7.278241 GB/ s|28.228653 GB/ s|   10.106678 GB/ s|
+----------------+------------------------+-----------------------------+------------------+---------------+------------------+
|262144          |                     256|                           32|    7.410152 GB/ s|18.633538 GB/ s|   10.552450 GB/ s|
+----------------+------------------------+-----------------------------+------------------+---------------+------------------+
|262144          |                     512|                           32|    7.573367 GB/ s| 8.029283 GB/ s|   10.747435 GB/ s|
+----------------+------------------------+-----------------------------+------------------+---------------+------------------+
|262144          |                    1024|                           32|    7.693613 GB/ s| 2.567194 GB/ s|   10.850513 GB/ s|
+----------------+------------------------+-----------------------------+------------------+---------------+------------------+
|262144          |                    2048|                           32|    7.752849 GB/ s| 2.356481 GB/ s|   10.896190 GB/ s|
+----------------+------------------------+-----------------------------+------------------+---------------+------------------+
|262144          |                    4096|                           32|    7.546294 GB/ s| 2.149910 GB/ s|   10.923620 GB/ s|
+----------------+------------------------+-----------------------------+------------------+---------------+------------------+

```

## Acorn-128 Verified Decryption

```bash
running on Tesla V100-SXM2-16GB

Benchmarking Acorn-128 decrypt

+----------------+-------------------------+-----------------------------+------------------+---------------+------------------+
|invocation count|cipher text len ( bytes )|associated data len ( bytes )|host-to-device b/w|     kernel b/w|device-to-host b/w|
+----------------+-------------------------+-----------------------------+------------------+---------------+------------------+
|65536           |                       64|                           32|    1.705837 GB/ s|35.714177 GB/ s|    5.289714 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+---------------+------------------+
|65536           |                      128|                           32|    9.129220 GB/ s|27.472508 GB/ s|    4.940260 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+---------------+------------------+
|65536           |                      256|                           32|    7.597684 GB/ s|26.315780 GB/ s|    6.947447 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+---------------+------------------+
|65536           |                      512|                           32|    7.198445 GB/ s|16.732283 GB/ s|    8.857045 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+---------------+------------------+
|65536           |                     1024|                           32|    7.384417 GB/ s| 4.400000 GB/ s|   10.698481 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+---------------+------------------+
|65536           |                     2048|                           32|    7.549954 GB/ s| 3.982843 GB/ s|   10.827063 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+---------------+------------------+
|65536           |                     4096|                           32|    7.680085 GB/ s| 3.794787 GB/ s|   10.890715 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+---------------+------------------+
|131072          |                       64|                           32|    8.620688 GB/ s|39.999966 GB/ s|    4.978554 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+---------------+------------------+
|131072          |                      128|                           32|    7.295171 GB/ s|27.472547 GB/ s|    7.059982 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+---------------+------------------+
|131072          |                      256|                           32|    7.226426 GB/ s|22.556387 GB/ s|    9.316994 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+---------------+------------------+
|131072          |                      512|                           32|    7.388180 GB/ s| 8.952081 GB/ s|   10.637858 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+---------------+------------------+
|131072          |                     1024|                           32|    7.562472 GB/ s| 3.467115 GB/ s|   10.795837 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+---------------+------------------+
|131072          |                     2048|                           32|    7.693197 GB/ s| 3.207026 GB/ s|   10.897081 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+---------------+------------------+
|131072          |                     4096|                           32|    7.757698 GB/ s| 3.035437 GB/ s|   10.906487 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+---------------+------------------+
|262144          |                       64|                           32|    7.246376 GB/ s|42.857143 GB/ s|    7.827552 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+---------------+------------------+
|262144          |                      128|                           32|    7.311584 GB/ s|28.409091 GB/ s|   10.027985 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+---------------+------------------+
|262144          |                      256|                           32|    7.399577 GB/ s|25.139665 GB/ s|   10.567434 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+---------------+------------------+
|262144          |                      512|                           32|    7.568011 GB/ s|12.018380 GB/ s|   10.817308 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+---------------+------------------+
|262144          |                     1024|                           32|    7.687166 GB/ s| 2.760351 GB/ s|   10.872793 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+---------------+------------------+
|262144          |                     2048|                           32|    7.760079 GB/ s| 2.426188 GB/ s|   10.904504 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+---------------+------------------+
|262144          |                     4096|                           32|    7.800825 GB/ s| 2.244298 GB/ s|   10.939102 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+---------------+------------------+
```

---

# Benchmarking Acorn-128 encrypt/ decrypt kernel on Intel(R) UHD Graphics P630 [0x3e96]

Run following command to generate binary ( along with AOT compiled SYCL kernels ) which can offload Acorn-128 encrypt/ decrypt kernel to Intel Integrated Graphics.

```bash
make aot_gpu
```

## Acorn-128 Authenticated Encryption

```bash
running on Intel(R) UHD Graphics P630 [0x3e96]

Benchmarking Acorn-128 encrypt

+----------------+------------------------+-----------------------------+------------------+-----------------+------------------+
|invocation count|plain text len ( bytes )|associated data len ( bytes )|host-to-device b/w|       kernel b/w|device-to-host b/w|
+----------------+------------------------+-----------------------------+------------------+-----------------+------------------+
|65536           |                      64|                           32|    9.798720 GB/ s| 482.062688 MB/ s|   19.888122 GB/ s|
+----------------+------------------------+-----------------------------+------------------+-----------------+------------------+
|65536           |                     128|                           32|    8.658761 GB/ s| 703.026840 MB/ s|   13.984723 GB/ s|
+----------------+------------------------+-----------------------------+------------------+-----------------+------------------+
|65536           |                     256|                           32|    6.150451 GB/ s|1001.142415 MB/ s|   15.970842 GB/ s|
+----------------+------------------------+-----------------------------+------------------+-----------------+------------------+
|65536           |                     512|                           32|    9.462698 GB/ s|   1.188586 GB/ s|   16.086834 GB/ s|
+----------------+------------------------+-----------------------------+------------------+-----------------+------------------+
|65536           |                    1024|                           32|    9.517681 GB/ s|   1.233725 GB/ s|   16.433406 GB/ s|
+----------------+------------------------+-----------------------------+------------------+-----------------+------------------+
|65536           |                    2048|                           32|    9.618308 GB/ s| 901.265967 MB/ s|   16.204624 GB/ s|
+----------------+------------------------+-----------------------------+------------------+-----------------+------------------+
|65536           |                    4096|                           32|    9.668983 GB/ s| 639.348362 MB/ s|   16.342644 GB/ s|
+----------------+------------------------+-----------------------------+------------------+-----------------+------------------+
|131072          |                      64|                           32|   10.093995 GB/ s| 487.850212 MB/ s|   12.398117 GB/ s|
+----------------+------------------------+-----------------------------+------------------+-----------------+------------------+
|131072          |                     128|                           32|    9.140271 GB/ s| 710.284025 MB/ s|   13.927702 GB/ s|
+----------------+------------------------+-----------------------------+------------------+-----------------+------------------+
|131072          |                     256|                           32|    9.284891 GB/ s|   1.018523 GB/ s|   16.161831 GB/ s|
+----------------+------------------------+-----------------------------+------------------+-----------------+------------------+
|131072          |                     512|                           32|    9.479852 GB/ s|   1.285675 GB/ s|   16.376559 GB/ s|
+----------------+------------------------+-----------------------------+------------------+-----------------+------------------+
|131072          |                    1024|                           32|    9.630179 GB/ s|   1.388897 GB/ s|   16.528590 GB/ s|
+----------------+------------------------+-----------------------------+------------------+-----------------+------------------+
|131072          |                    2048|                           32|    9.794456 GB/ s|   1.030221 GB/ s|   16.378262 GB/ s|
+----------------+------------------------+-----------------------------+------------------+-----------------+------------------+
|131072          |                    4096|                           32|    9.843429 GB/ s| 679.699062 MB/ s|   16.525109 GB/ s|
+----------------+------------------------+-----------------------------+------------------+-----------------+------------------+
|262144          |                      64|                           32|   10.000691 GB/ s| 492.528567 MB/ s|   16.204122 GB/ s|
+----------------+------------------------+-----------------------------+------------------+-----------------+------------------+
|262144          |                     128|                           32|    9.360544 GB/ s| 716.815124 MB/ s|   16.176645 GB/ s|
+----------------+------------------------+-----------------------------+------------------+-----------------+------------------+
|262144          |                     256|                           32|    9.510033 GB/ s|   1.029032 GB/ s|   16.398346 GB/ s|
+----------------+------------------------+-----------------------------+------------------+-----------------+------------------+
|262144          |                     512|                           32|    9.643670 GB/ s|   1.355006 GB/ s|   15.000457 GB/ s|
+----------------+------------------------+-----------------------------+------------------+-----------------+------------------+
|262144          |                    1024|                           32|    9.776031 GB/ s|   1.532205 GB/ s|   16.547544 GB/ s|
+----------------+------------------------+-----------------------------+------------------+-----------------+------------------+
|262144          |                    2048|                           32|    9.818233 GB/ s|1006.160282 MB/ s|   16.512075 GB/ s|
+----------------+------------------------+-----------------------------+------------------+-----------------+------------------+
|262144          |                    4096|                           32|    9.855083 GB/ s| 801.346873 MB/ s|   16.469396 GB/ s|
+----------------+------------------------+-----------------------------+------------------+-----------------+------------------+
```

## Acorn-128 Verified Decryption

```bash
running on Intel(R) UHD Graphics P630 [0x3e96]

Benchmarking Acorn-128 decrypt

+----------------+-------------------------+-----------------------------+------------------+-----------------+------------------+
|invocation count|cipher text len ( bytes )|associated data len ( bytes )|host-to-device b/w|       kernel b/w|device-to-host b/w|
+----------------+-------------------------+-----------------------------+------------------+-----------------+------------------+
|65536           |                       64|                           32|   10.789925 GB/ s| 485.233770 MB/ s|   24.613088 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+-----------------+------------------+
|65536           |                      128|                           32|   10.763939 GB/ s| 705.686919 MB/ s|   16.595848 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+-----------------+------------------+
|65536           |                      256|                           32|    9.335830 GB/ s|1014.556176 MB/ s|   14.235340 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+-----------------+------------------+
|65536           |                      512|                           32|    9.158779 GB/ s|   1.105730 GB/ s|   14.962771 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+-----------------+------------------+
|65536           |                     1024|                           32|    9.501886 GB/ s| 990.477043 MB/ s|   15.660006 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+-----------------+------------------+
|65536           |                     2048|                           32|    9.503080 GB/ s| 687.493278 MB/ s|   16.006198 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+-----------------+------------------+
|65536           |                     4096|                           32|    9.698753 GB/ s| 568.693186 MB/ s|   16.332814 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+-----------------+------------------+
|131072          |                       64|                           32|   10.049570 GB/ s| 488.949019 MB/ s|   14.752659 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+-----------------+------------------+
|131072          |                      128|                           32|    9.303867 GB/ s| 716.650970 MB/ s|   14.290731 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+-----------------+------------------+
|131072          |                      256|                           32|    9.143061 GB/ s|   1.009075 GB/ s|   15.153013 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+-----------------+------------------+
|131072          |                      512|                           32|    6.387896 GB/ s|   1.215706 GB/ s|   15.714463 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+-----------------+------------------+
|131072          |                     1024|                           32|    9.659371 GB/ s|   1.052234 GB/ s|   16.175184 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+-----------------+------------------+
|131072          |                     2048|                           32|    9.721819 GB/ s| 758.871043 MB/ s|   16.305862 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+-----------------+------------------+
|131072          |                     4096|                           32|    9.783073 GB/ s| 595.716943 MB/ s|   16.432319 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+-----------------+------------------+
|262144          |                       64|                           32|    9.677160 GB/ s| 493.869475 MB/ s|   14.563868 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+-----------------+------------------+
|262144          |                      128|                           32|    9.487676 GB/ s| 720.874559 MB/ s|   15.433477 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+-----------------+------------------+
|262144          |                      256|                           32|    9.512303 GB/ s|   1.011941 GB/ s|   15.830824 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+-----------------+------------------+
|262144          |                      512|                           32|    6.518066 GB/ s|   1.097036 GB/ s|   16.204527 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+-----------------+------------------+
|262144          |                     1024|                           32|    9.788530 GB/ s|   1.559364 GB/ s|   16.341762 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+-----------------+------------------+
|262144          |                     2048|                           32|    9.829264 GB/ s| 735.993784 MB/ s|   16.462639 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+-----------------+------------------+
|262144          |                     4096|                           32|    9.869760 GB/ s| 691.507268 MB/ s|   16.506594 GB/ s|
+----------------+-------------------------+-----------------------------+------------------+-----------------+------------------+
```
